---
title:  "SQL_1  (ê¶Œí•œê´€ë¦¬, ìƒì„±, ì‚­ì œ)"
layout: post
categories: [language, sql]
tags: [sql, ì œë¡œë² ì´ìŠ¤]
toc: true
toc_sticky: true
date: 2024-03-25
---

<!-- MathJax Script for this post only -->
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
      processEscapes: true
    }
  });
</script>

#### ğŸ™…â€â™‚ï¸íœ´ëŒ€í°ìœ¼ë¡œ ë³¼ ë•Œ í˜¹ì‹œ ê¸€ìë‚˜ ìˆ«ìê°€ í™”ë©´ì— ë‹¤ ì•ˆë‚˜ì˜¤ë©´<span style="color:red">**,**</span> íœ´ëŒ€í° ê°€ë¡œë¡œ ëŒë¦¬ì‹œë©´ ë©ë‹ˆë‹¤

<img src="https://raw.githubusercontent.com/joonk2/mySvg/main/zb-joonhwan.gif" width="400">
<br><br><br>

```md
<ëª©ì°¨>
0. ë“¤ì–´ê°€ë©°
1. Database & SQL
2. ì‹¤í–‰
3. DBê´€ë¦¬
4. user ê´€ë¦¬
5. user ê¶Œí•œ ê´€ë¦¬
6. table ìƒì„±
7. insert
8. update
9. delete
10. orderby
```
<br>

# 0. ë“¤ì–´ê°€ë©°
SQL 1~8ê¹Œì§€ ì „ë¶€ ì œë¡œë² ì´ìŠ¤ ë°ì´í„°ìŠ¤ì¿¨ ê°•ì˜ë¥¼ ë“£ê³  ì‘ì„±í–ˆìŠµë‹ˆë‹¤. <br>
<br><br><br><br><Br>

# 1. Database & SQL
sqlì„ ì•Œê¸° ì „ì— Database, DBMS, RDBë¥¼ ìš°ì„  ì•Œì•„ì•¼í•©ë‹ˆë‹¤. <br>
`Database` <br>
ì—¬ëŸ¬ ì‚¬ëŒì´ ê³µìœ í•˜ì—¬ ì‚¬ìš©í•  ëª©ì ìœ¼ë¡œ ì²´ê³„í™”í•´ í†µí•©, ê´€ë¦¬í•˜ëŠ” ë°ì´í„°ì˜ ì§‘í•©ì²´.
<br>

`DBMS`: <br>
ì‚¬ìš©ìì™€ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì—ì„œ ì‚¬ìš©ìì˜ ìš”êµ¬ì— ë”°ë¼ ì •ë³´ë¥¼ ìƒì„±í•´ì£¼ê³  ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” ì†Œí”„íŠ¸ì›¨ì–´
<br>

`RDB`: <br>
ì„œë¡œê°„ì— ê´€ê³„ê°€ ìˆëŠ” ë°ì´í„° í…Œì´ë¸”ë“¤ì„ ëª¨ì•„ë‘” ë°ì´í„° ì €ì¥ê³µê°„
<br><br>

## <span style="color:red">SQL</span>
ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì •ì˜, ì¡°ì‘, ì œì–´í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ <br>
- **ë°ì´í„° ì •ì˜ ì–¸ì–´**Â (DDL: Data Definition Language): CREATE, ALTER, DROP ë“±ì˜ ëª…ë ¹ì–´
- **ë°ì´í„° ì¡°ì‘ ì–¸ì–´**Â (DML: Data Manipulation Language): INSERT, UPDATE, DELETE, SELECT ë“±ì˜ ëª…ë ¹ì–´
- **ë°ì´í„° ì œì–´ ì–¸ì–´**Â (DCL: Data Control Language): GRANT, REVOKE, COMMIT, ROLLBACK ë“±ì˜ ëª…ë ¹ì–´
<br><br><br><br>

# 2. ì‹¤í–‰
[https://dev.mysql.com/downloads/installer/](https://dev.mysql.com/downloads/installer/) 
<br>
ì•„ë˜ í° íŒŒì¼ ì„¤ì¹˜ í›„ì— windows ë²„íŠ¼ ëˆ„ë¦…ë‹ˆë‹¤ â€”> mysql command line client <br>
ê·¸ ë‹¤ìŒ MySQL 8.0 Command Line Clientì—ì„œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤<br>
ì´í›„ ì €ëŠ” Line Clientì™€ workbench ë‘ ê³³ì—ì„œ ì‹¤ìŠµí•˜ì˜€ìŠµë‹ˆë‹¤

![Desktop View](/assets/img//language/sql/sql1/1.png)
![Desktop View](/assets/img//language/sql/sql1/2.png)
<br><br><br><br><br>

# 3. DBê´€ë¦¬

```md
# ë¡œê·¸ì¸(Line Client ì°½)
mysql -u root -p
```

## 3-1) ë‚´ê°€ ê°€ì§„ db ë³´ê¸°

```sql
show databases;
```

## 3-2) DB ìƒì„±

```sql
# utf8mb4 --> ë‹¤êµ­ì–´, ğŸ˜‰ì§€ì›
create database dbì´ë¦„ default character set utf8mb4;
â¬‡ï¸
create database zerobase default character set utf8mb4;
```

## 3-3) DBì œê±°

```sql
drop database dbì´ë¦„;
â¬‡ï¸
drop database zerobase;
```

## 3-4) DBì‚¬ìš©

```sql
use dbì´ë¦„;
â¬‡ï¸
use zerobase;
```
<br><br><br><br><br>

# 4. user ê´€ë¦¬
show databases;ë¥¼ ì…ë ¥í•˜ë©´ mysqlì´ ë‚˜ì˜¬í…ë° ì‚¬ìš©ì ì •ë³´ëŠ” mysqlì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤<br>
ê·¸ëŸ¬ë¯€ë¡œ `use mysql;` ë¶€í„° ì…ë ¥í•˜ê³  ì‹œì‘í•©ë‹ˆë‹¤

## 4-1) ë¡œì»¬ì‚¬ìš©ì ìƒì„±

```sql
create user 'ì´ë¦„'@'localhost' identified by 'ë¹„ë°€ë²ˆí˜¸';
â¬‡ï¸
create user 'joonk2'@'localhost' identified by '1234';
```

## 4-2) ì™¸ë¶€ì‚¬ìš©ì ìƒì„±

```sql
create user 'ì´ë¦„'@'%' identified by 'ë¹„ë°€ë²ˆí˜¸';
â¬‡ï¸
create user 'admin'@'%' identified by '1234';
```

## 4-3) user ì¡°íšŒ

ì‚¬ìš©ì ì •ë³´ëŠ” mysql ì—ì„œ ê´€ë¦¬í•˜ë¯€ë¡œ ì¼ë‹¨ mysql ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì´ë™ í›„ ì¡°íšŒ

```sql
use dbì´ë¦„;
select host, user from user;
â¬‡ï¸
use zerobase;
select host, user from user;
```

## 4-4) local host ì œê±°

```sql
drop user 'ì´ë¦„'@'localhost';
â¬‡ï¸
drop user 'joonk2'@'localhost';
```

## 4-5) ì™¸ë¶€ì ‘ì†ì ì œê±°

```sql
drop user 'ì´ë¦„'@'%';
â¬‡ï¸
drop user 'admin'@'%';
```
<br><br><br><br><br><br>

# 5. user ê¶Œí•œ ê´€ë¦¬
## 5-1) ê¶Œí•œ í™•ì¸(ë¡œì»¬)
```sql
show grants for 'ì´ë¦„'@'localhost';
â¬‡ï¸
show grants for 'joonk2'@'localhost';
```

## 5-2) ê¶Œí•œ ë¶€ì—¬ (ë¡œì»¬)
```sql
grant all on dbì´ë¦„.* to 'ì´ë¦„'@'localhost'
â¬‡ï¸
grant all on zerobase.* to 'ì´ë¦„'@'localhost'
```

## 5-3) ìƒˆë¡œê³ ì¹¨
```sql
flush privileges;
```

## 5-4) ê¶Œí•œ ì‚­ì œ
```sql
revoke all on dbì´ë¦„.* from 'ì´ë¦„'@'localhost';
â¬‡ï¸
revoke all on zerobase.* from 'joonk2'@'localhost';
```
<br><br><br><br><br><br>

# 6. table ìƒì„±
`use dbì´ë¦„;` ë¨¼ì € ì…ë ¥í•˜ê³  ì‹œì‘í•©ë‹ˆë‹¤!
## 6-1) table ìƒì„±

```sql
# id(int)ì™€ name(varchar(16) ì»¬ëŸ¼ì„ ê°€ì§€ëŠ” music í…Œì´ë¸” ìƒì„±
create table í…Œì´ë¸”ëª…(id int, name varchar(16));
â¬‡ï¸
create table test1(id int, name varchar(16));

# í…Œì´ë¸” ëª©ë¡ í™•ì¸
show tables;

# í…Œì´ë¸” ìƒì„¸ì •ë³´ í™•ì¸
desc test1;
```

## 6-2) table ì´ë¦„ ë³€ê²½
```sql
alter table í…Œì´ë¸”ëª… rename ë³€ê²½í•  í…Œì´ë¸”ëª…;
â¬‡ï¸
alter table test1 rename person;
```

## 6-3) ì»¬ëŸ¼ì¶”ê°€
í…Œì´ë¸”ì— ë¨¼ì € ì ‘ê·¼í•  ê²ƒ, ê·¸ë¦¬ê³  ë³€ê²½í›„ í™•ì¸
```sql
# (double) ì»¬ëŸ¼
alter table í…Œì´ë¸”ëª… add column ì»¬ëŸ¼ëª… double;
desc í…Œì´ë¸”;
â¬‡ï¸
alter table person add column age double;
desc person;
```

## 6-4) ì»¬ëŸ¼ dtype, ì»¬ëŸ¼ëª… ë³€ê²½
í…Œì´ë¸”ì— ë¨¼ì € ì ‘ê·¼í•  ê²ƒ, ê·¸ë¦¬ê³  ë³€ê²½í›„ í™•ì¸
```sql
alter table í…Œì´ë¸”ëª… modify column ì»¬ëŸ¼ëª… dtype;
alter table í…Œì´ë¸”ëª… change column ì»¬ëŸ¼ëª… ë°”ê¿€ì»¬ëŸ¼ëª… dtype;
desc í…Œì´ë¸”ëª…;
â¬‡ï¸
alter table person modify column age int;
alter table person change column age ë‚˜ì´ int;
desc person;
```

## 6-5) ì»¬ëŸ¼, í…Œì´ë¸” ì‚­ì œ
í…Œì´ë¸”ì— ë¨¼ì € ì ‘ê·¼í•  ê²ƒ, ê·¸ë¦¬ê³  ë³€ê²½í›„ í™•ì¸
```sql
alter table í…Œì´ë¸”ëª… drop column ì»¬ëŸ¼ëª…;
desc í…Œì´ë¸”ëª…;
drop table í…Œì´ë¸”ëª…;
show tables;
â¬‡ï¸
alter table person drop column ë‚˜ì´;
desc person;
drop table person;
show tables;
```
<br><br><br><br><br><br>

# 7. insert
ì„ í–‰ ê³¼ì •
```sql
# ì‚¬ìš©í•  db ìƒì„±
create database dbì´ë¦„;

# dbì‚¬ìš©
use dbì´ë¦„;

#table í™•ì¸
show tables;

# personí…Œì´ë¸” ìƒì„±
create table person
(
id int,
name varchar(16),
age int,
sex char
);

# í™•ì¸
desc person;
```

## 7-1) insert

```sql
# insert (ìë£Œêµ¬ì¡° ê°™ì€ í˜•ì‹)
insert into person(id, name, age, sex) values (1, 'John', 30, 'M');
insert into person(id, name, age, sex) values (2, 'lory', 29, 'F');
insert into person(id, name, age, sex) values (3, 'mike', 31, 'M');
insert into person(id, name, age, sex) values (4, 'Alice', 32, 'F');
```

## 7-2) ì‹¤ìŠµ

```sql
# `person` tableì˜ ëª¨ë“  ê²ƒ ì„ íƒ
select * from person;

# `person`ì—ì„œ 3ê°œë§Œ ì¶”ì¶œ(name, age, sex) 
select name, age, sex from person;

# `person`ì—ì„œ ì—¬ì„±ë§Œ ì¶”ì¶œ
select * from person where sex ='F'; 

# `person`ì—ì„œ age >= 31 ì¡°íšŒ
select * from person where age >= 31;
```
<br><br><br><br><br><br>

# 8. update
```sql
update í…Œì´ë¸”ëª… set ë°”ê¿€ê°’ where ì¡°ê±´
â¬‡ï¸
# `person` tableì—ì„œ john ë‚˜ì´ 50ìœ¼ë¡œ ë³€ê²½
update person set age=50 where name='John';
```
<br><br><br><br>

# 9. delete
```sql
delete from í…Œì´ë¸”ëª… where ì¡°ê±´
â¬‡ï¸
# ì´ë¦„='John' delete
delete from person where name = 'John';
```
<br><br><br><br>

# 10. orderby
```sql
------------------------ê¸°ë³¸ ì…‹íŒ…--------------------------------
# `celab` table ìƒì„±
create table celab (
    id int not null auto_increment primary key,
    name varchar(32) not null default '',
    birthday date,
    age int,
    sex char(1),
    job_title varchar(32),
    agency varchar(32)
);

# `ì•„ì´ìœ ` ~ `ì´ìˆ˜í˜„` ë„£ê¸°
INSERT INTO celab VALUES (1, 'ì•„ì´ìœ ', '1993-05-16', 29, 'F', 'ê°€ìˆ˜, ì—°ì˜ˆì¸', 'EDAMì—”í„°í…Œì¸ë¨¼íŠ¸');
INSERT INTO celab VALUES (2, 'ì´ë¯¸ì£¼', '1994-09-23', 28, 'F', 'ê°€ìˆ˜', 'ìš¸ë¦¼ì—”í„°í…Œì¸ë¨¼íŠ¸');
INSERT INTO celab VALUES (3, 'ì†¡ê°•', '1994-03-23', 28, 'M', 'ë°°ìš°', 'ë‚˜ë¬´ì—‘í„°ìŠ¤');
INSERT INTO celab VALUES(4, 'ê°•ë™ì›', '1981-01-18', 41, 'M', 'ë°°ìš°', 'YGì—”í„°í…Œì¸ë¨¼íŠ¸');
INSERT INTO celab VALUES(5, 'ìœ ì¬ì„', '1972-08-14', 50, 'M', 'MC, ì½”ë¯¸ë””ì–¸', 'ì•ˆí…Œë‚˜ ì—”í„°í…Œì¸ë¨¼íŠ¸');
INSERT INTO celab VALUES(6, 'ì°¨ìŠ¹ì›', '1970-06-07', 48, 'M', 'ì˜í™”ë°°ìš°, ëª¨ë¸', 'YHì—”í„°í…Œì¸ë¨¼íŠ¸');
INSERT INTO celab VALUES(7, 'ì´ìˆ˜í˜„', '1999-05-04', 23, 'F', 'ê°€ìˆ˜', 'YGì—”í„°í…Œì¸ë¨¼íŠ¸');

# ì˜ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ í™•ì¸
select * from celab;
```

```sql
------------------------------ order by ---------------------------------

# celab í…Œì´ë¸”ì—ì„œ age, nameì„ ì¶”ì¶œí•´ age ì˜¤ë¦„ì°¨ìˆœ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬
SELECT age, name from celab order by age ASC;

# celab í…Œì´ë¸”ì—ì„œ age, nameì„ ì¶”ì¶œí•´ age ë‚´ë¦¼ì°¨ìˆœ, name ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
SELECT age, name FROM celab ORDER BY age DESC, name ASC;

# celeb í…Œì´ë¸”ì—ì„œ ì´ë¦„, ìƒë…„ì›”ì¼, ì„±ë³„, ì†Œì†ì‚¬ë¥¼  ì¶”ì¶œí•˜ê³  ì†Œì†ì‚¬ ìˆœìœ¼ë¡œ ì •ë ¬
SELECT name, birthday, sex, agency from celab ORDER BY agency ASC;

# celeb í…Œì´ë¸”ì—ì„œ ì´ë¦„, ë‚˜ì´, ì§ì—…, ì†Œì†ì‚¬ë¥¼  ì¶”ì¶œí•˜ê³  ì†Œì†ì‚¬ ìˆœ, ë‚˜ì´ ì—­ìˆœìœ¼ë¡œ ì •ë ¬
SELECT name, age, job_title, agency from celab ORDER BY agency ASC, age DESC;
```