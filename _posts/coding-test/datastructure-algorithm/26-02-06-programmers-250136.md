---
title:  "[PCCP ê¸°ì¶œë¬¸ì œ] 2ë²ˆ / ì„ìœ  ì‹œì¶”"
layout: post
categories: [coding-test, datastructure-algorithm] 
tags: [math]
toc: true
toc_sticky: true
math: true
date: 2026-02-06
---

<!-- MathJax Script for this post only -->
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
      processEscapes: true
    }
  });
</script>


# [[PCCP ê¸°ì¶œë¬¸ì œ] 2ë²ˆ / ì„ìœ  ì‹œì¶”](https://school.programmers.co.kr/learn/courses/30/lessons/250136)

## ğŸ™‹â€â™‚ï¸ ë“¤ì–´ê°€ë©°
ì´ë²ˆ ë¬¸ì œëŠ” ì‹œê°„ë³µì¡ë„ë¥¼ ìƒê°í•˜ì§€ ì•Šìœ¼ë©´ í‹€ë¦¬ëŠ” ë¬¸ì œì˜€ë‹¤

ë‚˜ëŠ” ìš°ì„  í•œë²ˆ BFSë¥¼ í™œìš©í•˜ì—¬ 3ì¤‘ ë°˜ë³µë¬¸ 

r = 0, r < 1 <br>
c = 0; c < col <br>
k = 0; k < row <br>

ì—¬ê¸°ì„œ ë§¨ ì²« í–‰ì—ì„œ [0][0] ~ [0][col] ë™ì•ˆ í™•ì¸í•˜ê³  ê·¸ë•Œë§ˆë‹¤ ê°ê° ì‹œì¶”ê´€ì˜ í¬ê¸°ë¥¼ 0 ~ rowê¹Œì§€ ë°˜ë³µí•´ì„œ ì ê²€í•˜ê³ ìí–ˆë‹¤.

ì´ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ì—ì„œ ë§ê¸¸ë˜ ì œì¶œí–ˆëŠ”ë° ì‹œê°„ì´ˆê³¼ê°€ ë‚˜ì„œ ì˜¤ë¥˜ì˜€ë‹¤.

ì¼ë‹¨ í‹€ë ¸ë˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤

## âŒí‹€ë¦° ì½”ë“œ (ì‹œê°„ì´ˆê³¼)

```java
import java.util.Queue;
import java.util.LinkedList;


class Solution {
    static int[] dr = {-1,1,0,0};
    static int[] dc = {0,0,-1,1};
    static int max_oil = Integer.MIN_VALUE;


    public int solution(int[][] land) {

        // ì—´, í–‰
        int col = land[0].length;
        int row = land.length;

        for (int r = 0; r < 1; r++) {
            for (int c = 0; c < col; c++) {
                // ë°©ë¬¸ ë§µ
                boolean[][] visited = new boolean[row][col];

                // ì„ì‹œíšŸìˆ˜ (í•©ì‚°ìš©)
                int temp_cnt = 0;

                // ì‹œì¶”ê´€
                for (int k = 0; k < row; k++) {
                    // ìµœì í™” (ë§Œì•½ ë°©ë¬¸í–ˆë‹¤ë©´ skip)
                    if (visited[k][c]) continue;

                    // ë¹ˆë•…ì´ë©´ í†µê³¼
                    if (land[k][c] == 0) continue;

                    // ë°©ë¬¸ ì•ˆí–ˆìœ¼ë©´ ë°©ë¬¸ì²˜ë¦¬í›„ temp_cntì— ì¶”ê°€, ê·¸ë¦¬ê³  qì— ì‚½ì…
                    visited[k][c] = true;
                    temp_cnt++;
                    Queue<int[]> q = new LinkedList<>();
                    q.add(new int[] {k, c});

                    while (!q.isEmpty()) {
                        int[] cur_pos = q.poll();
                        int cr = cur_pos[0];
                        int cc = cur_pos[1];

                        for (int d = 0; d < 4; d++) {
                            int nr = cr + dr[d];
                            int nc = cc + dc[d];

                            // ë²”ìœ„ í™•ì¸
                            if (nr < 0 || nr >= row || nc < 0 || nc >= col) continue;

                            // ë‹¤ìŒ ì¢Œí‘œê°€ ë¹ˆë•…ì´ê±°ë‚˜, ë°©ë¬¸í–ˆìœ¼ë©´ skip
                            if (land[nr][nc] == 0 || visited[nr][nc]) continue;

                            // ë°©ë¬¸ ì•ˆí–ˆìœ¼ë©´ visitied í›„ -> temp_cnt++ ê·¸ë¦¬ê³  qì— ì¶”ê°€
                            visited[nr][nc] = true;
                            temp_cnt++;
                            q.add(new int[] {nr, nc});
                        }
                    }
                }
                // ë¹„êµ
                max_oil = Math.max(max_oil, temp_cnt);

            }
        }


        return max_oil;
    }
}
```

í‹€ë¦° ì´ìœ ë¥¼ ì•Œì•„ë³´ë‹ˆ ë°˜ë¡€ë¡œ ìµœì•…ì˜ ì‹¤í–‰ì‹œê°„ì´ ë‹¤ìŒê³¼ ê°™ë”ë¼

500 * 250000 * 500 

ì¦‰ ì‹œê°„ì´ˆê³¼ê² ë‹¤.


<br><br>

## ğŸ¤” ë‹¤ë¥¸ ë°©ë²•ì„ ìƒê°í•´ë³´ì

ê·¸ë ‡ë‹¤ë©´ ë‹¤ë¥¸ ë°©ë²•ì„ ìƒê°í•´ë³´ë‹ˆ `ì™„ì „íƒìƒ‰`ì´ ìˆë”ë¼

### ì‚¬ì§„ 1
![Desktop View](/assets/img/data-alg/bfs-dfs/20260206-1.jpg)

### ì‚¬ì§„ 2
![Desktop View](/assets/img/data-alg/bfs-dfs/20260206-2.jpg)

ì‚¬ì§„ì— ë³´ëŠ”ê²ƒì²˜ëŸ¼ <span style="color:yellow">ë…¸ë€ìƒ‰ ì </span> ì„ í˜„ì¬ ì¢Œí‘œë¡œ ê°€ì •í•˜ì.

<span style="color:green">ì´ˆë¡ìƒ‰</span>ì€ cnt++ ì²˜ë¦¬

<span style="color:red">ë¹¨ê°„ìƒ‰ ì²´í¬</span>ëŠ” í˜„ì¬ì¢Œí‘œê°€ ì„ìœ ì™€ ì´ì–´ì ¸ìˆëŠ” column ì´ë‹¤.

ê° ì‚¬ì§„ë§ˆë‹¤ land[0][3], ê·¸ë¦¬ê³  land[4][6] ì¼ë•Œ HashSetì— ì„ìœ ê°€ ìˆëŠ” ì—´ë“¤ì„ ì¶”ê°€í•˜ì—¬ 

oil_by_col = new int[ì—´ì˜ í¬ê¸°] ë¥¼ í™œìš©í•  ìˆ˜ ìˆì§€ì•Šì„ê¹Œ?

ì´ëŸ° ì‹ìœ¼ë¡œ ë§ì´ë‹¤

```java
for (int col_idx : set) {
	oil_by_col[col_idx] += cnt;
}
```

ìœ„ ì‚¬ì§„ ê¸°ì¤€ìœ¼ë¡œ land[0][3] ì¼ë•ŒëŠ” setì— 3,4,5,6 ì¶”ê°€<br>
land[4][6] ì¼ë• setì— 6,7 ì´ ì¶”ê°€ë˜ê² ë‹¤.


ê·¸ëŸ¬ë©´ ì¤‘ë³µì´ ë˜ì§€ ì•Šê³ ë„ ì¢Œí‘œë¥¼ 1ê°œì”© ì™„ì „íƒìƒ‰ í•˜ì—¬ ìœ„ì˜ ë°°ì—´ì— ì¶”ê°€í•  ìˆ˜ ìˆê² ë‹¤. 

ì´ë•Œì˜ ìµœì•…ì˜ ì‹¤í–‰ì‹œê°„ì€ ë‹¤ìŒê³¼ ê°™ê² ë‹¤
```
(500 * 500 * 4) + O(500)
```
-> ì•„ 1ì–µ ì´ë‚´ ì—°ì‚°ì´ë¼ ì‹œê°„ì´ˆê³¼ ì•ˆë‚˜ë„¤ `(good)`

<br><br>



## âœ… ì •ë‹µ

```java
import java.util.HashSet;
import java.util.Set;

import java.util.Queue;
import java.util.LinkedList;


class Solution {
    static int[] dr = {-1,1,0,0};
    static int[] dc = {0,0,-1,1};
    static int max_oil = Integer.MIN_VALUE;
    static boolean[][] visited;
    static int row, col;
    
    public int solution(int[][] land) {
        row = land.length;
        col = land[0].length;
        visited = new boolean[row][col];
        
        // ì™„ì „íƒìƒ‰ì‹œ ê° ì—´ë§ˆë‹¤ ë°©ë¬¸ì•ˆí•œ ì¢Œí‘œë¥¼ í•©ì‚°í•´ì£¼ê¸° ìœ„í•œ ë°°ì—´
        int[] oil_by_col = new int[col];
        
        for (int r = 0; r < row; r++) {
            for (int c = 0; c < col; c++) {
                // ë§Œì•½ ë°©ë¬¸ ì•ˆí–ˆê³  + ì„ìœ ë¼ë©´
                if (!visited[r][c] && land[r][c] == 1) {
                    BFS(r, c, oil_by_col, land);
                }
            }
        }
        
        // ìµœëŒ€ ë¹„êµ
        for (int i : oil_by_col) {
            max_oil = Math.max(i, max_oil);
        }
        
        return max_oil;
    }
    
    
    
    
    
    static void BFS(int r, int c, int[] oil_by_col, int[][] land) {
        Queue<int[]> q = new LinkedList<>();
        
        // ì„ìœ ë©ì–´ë¦¬ê°€ ê²¹ì¹˜ëŠ” ì—´ì„ oil_by_colì— ë°˜ë³µë¬¸ìœ¼ë¡œ ì €ì¥í•´ì£¼ê¸°ìœ„í•´ Set ì‚¬ìš©
        Set<Integer> set = new HashSet<>();
        
        int cnt = 0;
        
        // ì§€ê¸ˆ í˜„ì¬ ì¢Œí‘œëŠ” ë°©ë¬¸ ì•ˆí•œ ì„ìœ ë‹ˆê¹Œ -> cnt++;
        // ê·¸ë¦¬ê³  í˜„ì¬ì¢Œí‘œì˜ ì—´ë„ ì„ìœ ë‘ ë§ë‹¥ë“œë ¸ìœ¼ë‹ˆ setì— ì¶”ê°€í•˜ì
        cnt++;
        set.add(c);
        
        visited[r][c] = true;
        q.add(new int[] {r, c});
        
        
        // í™•ì¸
        while (!q.isEmpty()) {
            int[] cur_pos = q.poll();
            int cr = cur_pos[0];
            int cc = cur_pos[1];
            for (int d = 0; d < 4; d++) {
                int nr = cr + dr[d];
                int nc = cc + dc[d];
                
                // ë²”ìœ„ ë°–ì´ë©´ skip
                if (nr < 0 || nr >= row || nc < 0 || nc >= col) continue;
                
                // ë‹¤ìŒì¢Œí‘œë¥¼ ë°©ë¬¸í–ˆê±°ë‚˜, ë¹ˆë•…ì´ë©´ skip
                if (visited[nr][nc] || land[nr][nc] == 0) continue;
                
                // ë¯¸ë°©ë¬¸í–ˆë‹¤ë©´ íšŸìˆ˜ ì¶”ê°€í•˜ê³  ë°©ë¬¸ì²˜ë¦¬
                visited[nr][nc] = true;
                cnt++;
                
                // ë§Œì•½ col = 8ì¼ë•Œ, land[nr][nc] == 1
                // ê·¸ë¦¬ê³  ê·¸ë•Œì˜ ncê°€  0, 1, 4 -> setì— ì¶”ê°€
                set.add(nc);
                q.add(new int[]{nr, nc});
            } 
        }
        
        // oil_by_col ì— setì— ë“¤ì€ ì—´ë²ˆí˜¸ì˜ ê°¯ìˆ˜ë§Œí¼ ë°˜ë³µí•˜ì—¬ cnt ì¶”ê°€
        for (int col_idx : set) {
            oil_by_col[col_idx] += cnt;
        }
        
        
    }
    
    
    
}
```