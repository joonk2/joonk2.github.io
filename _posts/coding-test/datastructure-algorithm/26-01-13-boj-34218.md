---
title:  "boj-34218-ìˆ­ê³ í•œë§ˆë²•í•™êµ"
layout: post
categories: [coding-test, datastructure-algorithm] 
tags: [implementation]
toc: true
toc_sticky: true
math: true
date: 2026-01-13
---

<!-- MathJax Script for this post only -->
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
      processEscapes: true
    }
  });
</script>


# [boj_34218_ìˆ­ê³ í•œ ë§ˆë²•í•™êµ](https://www.acmicpc.net/problem/34218)

## ğŸ™‹â€â™‚ï¸ ë“¤ì–´ê°€ë©°
ì´ë²ˆ ë¬¸ì œëŠ” ìƒê°ì´ ì¢€ í•„ìš”í•œ BFS ë¬¸ì œë‹¤.  
í…”ë ˆí¬íŠ¸ë¥¼ í•œ ë²ˆê¹Œì§€ ì“¸ ìˆ˜ ìˆë‹¤ëŠ” ì¡°ê±´ ë•Œë¬¸ì—, ë‹¨ìˆœ ìµœë‹¨ê±°ë¦¬ í•œ ë²ˆë§Œìœ¼ë¡œëŠ” í•´ê²°ë˜ì§€ ì•ŠëŠ”ë‹¤.
<br><br><br>

## ğŸ§©ë¬¸ì œ

ìˆ­ê³ í•œ ë§ˆë²•í•™êµì—ì„œëŠ” ë§¤ë…„ 8ì›” ê¹Šì€ ìˆ² ì† ëŒ€íšŒì¥ì—ì„œ ë§ˆë²• ê²½ì§„ëŒ€íšŒë¥¼ ê°œìµœí•˜ê³  ìˆë‹¤! 2025ë…„ ìˆ­ê³ í•œ ë§ˆë²• ê²½ì§„ëŒ€íšŒì˜ ìš´ì˜ì§„ì€ ëŒ€íšŒì¥ì— ë„ì°©í•˜ëŠ” ê²ƒë„ ëŒ€íšŒì˜ ì¼ë¶€ë¼ê³  ìƒê°í•´, ì°¸ê°€ìë“¤ì—ê²Œ ë‹¤ìŒê³¼ ê°™ì´ ê³µì§€í–ˆë‹¤.

> ìˆ²ì˜ ì§€ë„ê°€ ì œê³µë˜ì§€ë§Œ, ëŒ€íšŒì¥ê¹Œì§€ ì´ë™í•˜ëŠ” ê²½ë¡œê°€ ìˆìŒì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í•„ìš”ì— ë”°ë¼ í…”ë ˆí¬íŠ¸ ë§ˆë²•ì„ ì´ìš©í•´ ëŒ€íšŒì¥ì— ë„ì°©í•´ì•¼ í•©ë‹ˆë‹¤.

ìˆ²ì˜ ì§€ë„ëŠ” Ní–‰ Mì—´ì˜ 2ì°¨ì› ê²©ì Aë¡œ ì£¼ì–´ì§„ë‹¤.  

1 $\leq$ r $\leq$ N, 1 $\leq$ c $\leq$ Mì„ ë§Œì¡±í•˜ëŠ” r, cì— ëŒ€í•´, ê²©ì Aì˜ rí–‰ cì—´ì—ëŠ” $A_{r,c}$ê°€ ì í˜€ ìˆìœ¼ë©°, rí–‰ cì—´ì„ í¸ì˜ìƒ r,cë¡œ í‘œí˜„í•œë‹¤.  
$A_{r,c}$ëŠ” 0 ë˜ëŠ” 1ì´ë©°, 1ì¸ ê²½ìš°ëŠ” ì§€ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” ì¹¸ì„ ì˜ë¯¸í•˜ê³  0ì¸ ê²½ìš° ë‚˜ë¬´ê°€ ìˆì–´ ì§€ë‚˜ê°ˆ ìˆ˜ ì—†ëŠ” ì¹¸ì„ ì˜ë¯¸í•œë‹¤. ë‚˜ë¬´ê°€ ì—†ëŠ” ë¹ˆ ê³µê°„ìœ¼ë¡œëŠ” ìƒí•˜ì¢Œìš°ë¡œ ì¸ì ‘í•œ ê²©ìì ìœ¼ë¡œë§Œ ì´ë™í•  ìˆ˜ ìˆìœ¼ë©°, ìˆ²ì„ ë‘˜ëŸ¬ì‹¸ëŠ” ê²°ê³„ê°€ ìˆì–´ ì…êµ¬ë¥¼ ì œì™¸í•œ ì§€ì ì„ í†µí•´ ìˆ²ìœ¼ë¡œ ë“¤ì–´ê°€ê±°ë‚˜ ë‚˜ê°ˆ ìˆ˜ ì—†ë‹¤.

í…”ë ˆí¬íŠ¸ ë§ˆë²•ì„ í†µí•´ $r_1$,$c_1$ì—ì„œ $r_2$,$c_2$ë¡œ ì´ë™í•  ë•Œ $\lvert$ $r_1$-$r_2$ $\rvert$ + $\lvert$ $c_1$-$c_2$ $\rvert$ ë§Œí¼ ë§ˆë‚˜ë¥¼ ì‚¬ìš©í•œë‹¤.  
í…”ë ˆí¬íŠ¸ ë§ˆë²•ì€ ì¬ì‚¬ìš©ì— ë§¤ìš° ì˜¤ëœ ì‹œê°„ì´ ê±¸ë ¤, ë‹¨ í•œ ë²ˆë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ëŒ€íšŒì—ì„œ ë§ì€ ë§ˆë‚˜ë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì´ê¸°ì—, ë§ˆë‚˜ë¥¼ ìµœì†Œí•œìœ¼ë¡œ ì‚¬ìš©í•´ ëŒ€íšŒì¥ì— ë„ì°©í•´ì•¼ í•œë‹¤.

### ì…ë ¥

- ì²« ì¤„ì— ê²©ìì˜ í¬ê¸° N, Mì´ ì£¼ì–´ì§„ë‹¤. 2 $\leq$ N,M $\leq$ 1,000  
- ì´í›„ Nê°œì˜ ì¤„ì— ê±¸ì³ (i+1)ë²ˆì§¸ ì¤„ì— <br>
  $A_{i,1}, A_{i,2}$, $\ldots$, $A_{i,M}$ì´ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤.
  0 $\leq$ $A_{ij}$ $\leq$ 1

- ë‹¤ìŒ ì¤„ì— ìˆ²ì˜ ì…êµ¬ì˜ ìœ„ì¹˜ $s_r$,$s_c$ê°€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤. <br>
1 $\leq$ $s_r$ $\leq$ N; <br>
1 $\leq$ $s_c$ $\leq$ M

- ë§ˆì§€ë§‰ ì¤„ì—ëŠ” ëŒ€íšŒì¥ì˜ ìœ„ì¹˜ $e_r$,$e_c$ê°€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤.<br>
1 $\leq$ $e_r$ $\leq$ N; <br>
1 $\leq$ $e_c$ $\leq$ M  

ì£¼ì–´ì§€ëŠ” ìˆ²ì˜ ì…êµ¬ì™€ ëŒ€íšŒì¥ì˜ ìœ„ì¹˜ëŠ” ë‚˜ë¬´ê°€ ì—†ì–´ ì§€ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” ì¹¸ì„ì´ ë³´ì¥ëœë‹¤.

### ì¶œë ¥

ì²«ì§¸ ì¤„ì— ìµœì†Œí•œì˜ ë§ˆë‚˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€íšŒì¥ì— ë„ì°©í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë§ˆë‚˜ë¥¼ ì¶œë ¥í•œë‹¤.

### ì˜ˆì œ ì…ë ¥ 1

```text
# input

4 8
1 0 0 0 0 0 0 0
1 0 0 0 0 1 1 1
1 1 1 0 0 0 0 1
0 0 0 0 0 0 0 1
1 1
4 8
```
<br>

```text
# output

4
```


<br><br><br>

## ğŸ¤”ë‚´ ì‚¬ê³ ì˜ íë¦„
í•„ìš”ì— ë”°ë¼ í…”ë ˆí¬íŠ¸ (1íšŒ)
- í•„ìš”
- í…”ë ˆí¬íŠ¸ ì—†ì´ ë„ë‹¬ ê°€ëŠ¥í•  ë•Œ -> í•„ìš” X
 
<br><br> 
í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ 4ë²ˆì„ ê¸°ì¤€ìœ¼ë¡œ ë§¨í•´íŠ¼ ê±°ë¦¬ë¥¼ êµ¬í•  ìˆ˜ ìˆëŠ” ì¢Œí‘œë¥¼ í™•ì¸í•˜ì


| r\c | 0       | 1       | 2       | 3      | 4      | 5       | 6       | 7       |
| --- | ------- | ------- | ------- | ------ | ------ | ------- | ------- | ------- |
| 0   | ğŸ”´(0,0) | âšª(0,1)  | âšª(0,2)  | âšª(0,3) | âšª(0,4) | âšª(0,5)  | âšª(0,6)  | âšª(0,7)  |
| 1   | ğŸ”´(1,0) | âšª(1,1)  | âšª(1,2)  | âšª(1,3) | âšª(1,4) | ğŸ”µ(1,5) | ğŸ”µ(1,6) | ğŸ”µ(1,7) |
| 2   | ğŸ”´(2,0) | ğŸ”´(2,1) | ğŸ”´(2,2) | âšª(2,3) | âšª(2,4) | âšª(2,5)  | âšª(2,6)  | ğŸ”µ(2,7) |
| 3   | âšª(3,0)  | âšª(3,1)  | âšª(3,2)  | âšª(3,3) | âšª(3,4) | âšª(3,5)  | âšª(3,6)  | ğŸ”µ(3,7) 

<br><br>

start_border (ë°°ì—´ lst)

end_border (ë°°ì—´ lst) 

-> ì—¬ê¸°ì— ë‹¤ìŒ ì¹¸ìœ¼ë¡œ ì´ë™ ë¶ˆê°€ëŠ¥í•œ í˜„ì¬ ì¢Œí‘œë“¤ (ë¹¨ê°„, íŒŒë€ìƒ‰)ì„ ì¶”ê°€í•´ì„œ ë§¨í•´íŠ¼ ê±°ë¦¬ ê³„ì‚°

<br>

ê·¸ëŸ¬ë©´ bfs 2ë²ˆì´ í•„ìš”í•˜ë‹¤
- bfs(visited_start, start_borders)
- bfs(visited_end, end_borders)

<br><br>

ë¬¸ì œì—ì„œëŠ” í•„ìš”ì— ë”°ë¼ í…”ë ˆí¬íŠ¸ ì‚¬ìš©ì´ë‹ˆê¹Œ
```java
visited_start[er][ec] == true
```
ë¼ë©´ 0ì„ ì¶œë ¥í•˜ê³  ì¢…ë£Œê² ë‹¤.
<br><br>

ê·¸ëŸ¼ í…”ë ˆí¬íŠ¸ê°€ í•„ìš”í•  ë•Œ manhattan ê±°ë¦¬ë¥¼ êµ¬í•˜ë©´ ë˜ê² ë‹¤
<br><br><br>


ì—¬ê¸°ê¹Œì§€ ë´¤ì„ë•Œ í•„ìš”í•œ í•¨ìˆ˜ëŠ” 2ê°œê² ë„¤
- bfs()
- teleport()

ë¨¼ì € bfsì˜ ê²½ìš° qì— ì²« start_r, start_cë¥¼ ëŒ€ì…í•˜ê³  ë°©ë¬¸ì²˜ë¦¬ë¥¼ ì§„í–‰í•˜ì
<br>
ì´ì–´ì„œ qì— ë„£ê³  ì´ë™ ë¶ˆê°€ëŠ¥í•œ ì¹¸ (ë²”ìœ„ ë°–, or ë‚˜ë¬´ ì¡°ìš°ì‹œ)ì¼ë•Œ
<br>
í˜„ ì¢Œí‘œë¥¼ ê²½ê³„ì¢Œí‘œë¡œ true ì²˜ë¦¬,ê·¸ë¦¬ê³  skip

ì´ë™ ê°€ëŠ¥í•˜ì§€ë§Œ, ì´ë¯¸ ë°©ë¬¸í–ˆìœ¼ë©´ skip

ë°©í–¥ ë°˜ë³µë¬¸ ë°–ì—ì„œ ê²½ê³„ì¢Œí‘œê°€ trueì¼ë•Œ, í˜„ ì¢Œí‘œë¥¼ lstì— ì¶”ê°€ (manhattan ê±°ë¦¬ êµ¬í•˜ê¸°ìš©)

<br><br>

ê·¸ë‹¤ìŒ ë§¨í•´íŠ¼ ê±°ë¦¬ì˜ ê²½ìš° ì´ì¤‘ ë°˜ë³µë¬¸ì„ í†µí•´ ê°±ì‹ í•˜ë©° êµ¬í•˜ì

ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ê² ë‹¤


<br><br>

## ğŸ¤–ì½”ë“œ
```java
/*
ë¬¸ì œë¥¼ ì½ì–´ë³´ë©´ í•„ìš”ì— ë”°ë¼
í…”ë ˆí¬íŠ¸O or í…”ë ˆí¬íŠ¸X

í…”ë ˆí¬íŠ¸ë¥¼ ì“°ë ¤ë©´ í˜„ì¬ ì´ë™ì€ ê°€ëŠ¥í•˜ì§€ë§Œ
ë‹¤ìŒ ì¢Œí‘œë¡œ ë²½ì„ ë§Œë‚˜ê²Œë  ì¢Œí‘œë“¤ì„ ê°ê° ì €ì¥í•˜ë©´ ëœë‹¤


í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ

start_borders = {
	{0,0},
	{1,0},
	{2,0},
	{2,1},
	{2,2}
}

end_borders = {
	{3,7},
	{2,7},
	{1,7},
	{1,6},
	{1,5}
}


ì´ê±¸ êµ¬í–ˆìœ¼ë©´ manhattan ê±°ë¦¬ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.
*/


import java.io.IOException;
import java.io.InputStreamReader;
import java.io.BufferedReader;

// BFS
import java.util.LinkedList;
import java.util.Queue;

// lst
import java.util.List;
import java.util.ArrayList;



public class Main {
	static int[] dr = {-1,1,0,0};
	static int[] dc = {0,0,-1,1};
	static int sr, sc, er, ec;
	static int N, M;
	static int[][] arr;
	
	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		String[] NM = br.readLine().split(" ");
		N = Integer.parseInt(NM[0]);
		M = Integer.parseInt(NM[1]);
		
		arr = new int[N][M];
		for (int r = 0; r < N; r++) {
			String[] cols = br.readLine().split(" ");
			for (int c = 0; c < M; c++) {
				arr[r][c] = Integer.parseInt(cols[c]);
			}
		}
		
		String[] sr_sc = br.readLine().split(" ");
		String[] er_ec = br.readLine().split(" ");
		sr = Integer.parseInt(sr_sc[0])-1;
		sc = Integer.parseInt(sr_sc[1])-1;
		er = Integer.parseInt(er_ec[0])-1;
		ec = Integer.parseInt(er_ec[1])-1;
		
		boolean[][] start_visited = new boolean[N][M];
		List<int[]> start_borders = new ArrayList<>();
		
		boolean[][] end_visited = new boolean[N][M];
		List<int[]> end_borders = new ArrayList<>();
		
		
		// bfs
		bfs(sr, sc, start_visited, start_borders);
		bfs(er, ec, end_visited, end_borders);
		
		// í…”ë ˆí¬íŠ¸ ì•ˆì“°ê³  ë„ì°©ì§€ ë„ë‹¬ ê°€ëŠ¥í•  ë•Œ
		if (start_visited[er][ec]) {
			System.out.println(0);
			return;
		}
		
		// í…”ë ˆí¬íŠ¸ ì¨ì•¼í•  ë•Œ
		teleport(start_borders, end_borders);
	}
	
	
	
	
	
	static void bfs(int start_r, int start_c, boolean[][] visited, List<int[]> lst) {
		Queue<int[]> q = new LinkedList<>();
		q.add(new int[] {start_r, start_c});
		visited[start_r][start_c] = true;
		
		while (!q.isEmpty()) {
			int[] cur_pos = q.poll();
			int cr = cur_pos[0];
			int cc = cur_pos[1];
			// ê²½ê³„ì¢Œí‘œ íŒë³„ìš©
			boolean is_border = false;
			
			for (int d = 0; d < 4; d++) {
				int nr = cr + dr[d];
				int nc = cc + dc[d];
				// ì´ë™ ë¶ˆê°€ëŠ¥í•œ ì¹¸ (ë²”ìœ„ ë°– or ë‚˜ë¬´ ì¡°ìš°ì‹œ)
				if (nr < 0 || nr >= N || nc < 0 || nc >= M || arr[nr][nc] == 0) {
					is_border = true;
					continue;
				}
				
				// ì´ë™ ê°€ëŠ¥í•˜ì§€ë§Œ, ì´ë¯¸ ë°©ë¬¸í–ˆë‹¤ë©´
				if (visited[nr][nc]) continue;
				
				// ì´ë™ ê°€ëŠ¥í•˜ë©´
				visited[nr][nc] = true;
				q.add(new int[] {nr, nc});
			}
			// ê²½ê³„ì¢Œí‘œ íŒë³„ -> í˜„ ì¢Œí‘œ ì‚½ì… (manhattan ê±°ë¦¬ êµ¬í•˜ê¸°ìš©)
			if (is_border) lst.add(new int[] {cr, cc});
		}

	}
	
	
	
	
	
	
	static void teleport(List<int[]> start_lst, List<int[]> end_lst) {
		int min_mana = Integer.MAX_VALUE;
		for (int[] s : start_lst) {
			for (int[] e : end_lst) {
				min_mana = Math.min(min_mana, Math.abs(s[0] - e[0]) + Math.abs(s[1] - e[1]));
			}
		}
		System.out.println(min_mana);
	}
	
	
	
	
}
```